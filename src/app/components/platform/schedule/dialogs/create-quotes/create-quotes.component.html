<button type="button" class="close" mat-dialog-close>&times;</button>
<h2>Ingresar Cita</h2>
<hr>
<form [formGroup]="quoteFormGroup">
  <div class="row">
    <div class="col-sm-12">
      <label>Fecha y hora</label>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-6">
        <input
                class="form-control"
                type="text"
                mwlFlatpickr
                [(ngModel)]="quote.startDay"
                [altInput]="true"
                [convertModelValue]="true"
                [enableTime]="true"
                dateFormat="Y-m-dTH:i"
                altFormat="F j, Y H:i"
                placeholder="Inicio"
                [formControlName]="['startCtrl']"
        />
    </div>
    <div class="col-sm-6">
      <input
              class="form-control"
              type="text"
              mwlFlatpickr
              [(ngModel)]="quote.endDay"
              [altInput]="true"
              [convertModelValue]="true"
              [enableTime]="true"
              dateFormat="Y-m-dTH:i"
              altFormat="F j, Y H:i"
              placeholder="Término"
              [formControlName]="['evdCtrl']"
      />
    </div>
  </div>
  <div class="row">
  <div class="col-sm-6">
    <form>
      <mat-form-field>
        <input type="text" placeholder="Rut Paciente" aria-label="Number" matInput [formControl]="myControl" [matAutocomplete]="auto"
               [(ngModel)]="patient" (blur)="findPatient()" required>
        <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
          <mat-option *ngFor="let patient of filteredPatients | async" [value]="patient.rut">
            {{patient.rut}}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>
    </form>
  </div>
  <div class="col-sm-6">
    <mat-form-field>
      <input matInput value="{{pat2.firstName}} {{pat2.lastName}}" placeholder="Nombre Paciente" disabled>
    </mat-form-field>
  </div>
</div>
  <div class="row">
    <div class="col-sm-6">
      <mat-form-field>
      <mat-select placeholder="Seleccione dentista" [formControlName]="['dentistCtrl']"
                  [(ngModel)]="dentist" required>
        <mat-option *ngFor="let dentist of dentists"
                    [value]="dentist">
          {{dentist.firstName}} {{dentist.lastName}}
        </mat-option>
      </mat-select>
      </mat-form-field>
    </div>
    <div class="col-sm-6">

    </div>
  </div>
  <div class="row">
    <div class="col-sm-12">
      <mat-form-field>
        <textarea matInput [(ngModel)]="quote.description" [formControlName]="['quoDescCtrl']" placeholder="Descripción" required></textarea>
      </mat-form-field>
    </div>
  </div>
  <div class="text-right">
    <button mat-raised-button color="primary" (click)="createQuotes()">INGRESAR</button>
    <button mat-raised-button mat-dialog-close>CANCELAR</button>
  </div>
</form>

